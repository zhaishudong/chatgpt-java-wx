import{k as e,Q as a,m as t,R as o}from"./index-18d92f1b.js";const s=({url:s,data:n={},method:i="get",header:r={ContentType:"application/json"}})=>{let d=e("token")||"";if(s)return new Promise(((e,l)=>{a({url:"http://127.0.0.1:8887"+s,method:i,data:n,header:{token:d,...r},success:a=>{if(200===a.data.code)e(a.data);else if(403===a.data.code)t({title:a.data.message,icon:"none"});else if(8e3===a.data.code){"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?o({url:"/pages/login/login"}):o({url:"/pages/login/appLogin"})}else t({title:a.data.message,icon:"none"}),o({url:"/pages/index/login"})},fail:e=>{l(e)}})}))},n=(e,a)=>{const t=e.__vccOpts||e;for(const[o,s]of a)t[o]=s;return t};export{n as _,s as r};
